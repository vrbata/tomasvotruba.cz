<!DOCTYPE html>
<html lang="en">
    <head>
    <title>7 News and Changes in Symplify 6 | Tomas Votruba</title>
    <meta charset="utf-8">
    <meta name="robots" content="index, follow">

        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">

    
    <link rel="alternate" type="application/rss+xml" title="Tomas Votruba Blog RSS" href="/rss.xml">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/solid.css" integrity="sha384-wnAC7ln+XN0UKdcPvJvtqIH3jOjs9pnKnq9qX68ImXvOGz2JuFoEiCjT8jyZQX2z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/brands.css" integrity="sha384-nT8r1Kzllf71iZl81CdFzObMsaLOhqBU1JD2+XoAALbdtWaXDOlWOZTR4v1ktjPE" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/fontawesome.css" integrity="sha384-HbmWTHay9psM8qyzEKPc8odH4DsOuzdejtnr+OFtDmOcIVnhgReQ4GZBH7uwcjf6" crossorigin="anonymous">

        <link href="/assets/bootstrap/bootstrap.min.css?v=1991469035" rel="stylesheet" type="text/css" />

    <link href="/assets/prism/prism.css?v=665054072" rel="stylesheet" type="text/css" />

        <link href="/assets/css/style.css?v=1004177490" rel="stylesheet" type="text/css" />

    <link href="/assets/gifplayer/gifplayer.css" rel="stylesheet" type="text/css" />

        <link href="/assets/css/checklist.css?v=283986863" rel="stylesheet" type="text/css" />
</head>
    <body>
        <!-- post_id: 214 -->

        <div class="hidden-sm-down">
    <nav class="navbar">
        <div class="container-fluid">
            <ul>
                <li id="logo">
                    <img src="https://avatars1.githubusercontent.com/u/924196?s=60&v=4" class="avatar">
                    Tomas Votruba
                </li>
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li class="">
                    <a href="/php-framework-trends/">Trends</a>
                </li>
                <li class="">
                    <a href="/clusters/">Clusters</a>
                </li>
                <li class="">
                    <a href="/mission/">Mission</a>
                </li>
                <li class="">
                    <a href="/talks/">Talks</a>
                </li>
                <li class="">
                    <a href="/contact/">Contact</a>
                </li>
                <li id="top-menu-search">
                    <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction">
                        <meta itemprop="target" content="https://www.google.com/search?q={q}"/>
                        <input name="sitesearch" value="tomasvotruba.cz" type="hidden"/>
                        <input itemprop="query-input" type="text" id="search-query" class="form-control" required="required" name="q" placeholder="Search..." autocomplete="off"/>
                    </form>
                </li>
            </ul>
        </div>
    </nav>
</div>

<div class="hidden-md-up">
    <nav class="navbar" id="mobile-menu">
        <div class="container">
            <a href="/" class="col-3 col-sm-3 active">
                <em class="fas fa-book"></em>
                <br>
                PHP Blog
            </a>
            <a href="/clusters/" class="col-3 col-sm-3 ">
                <em class="fas fa-share-alt"></em>
                <br>
                Clusters
            </a>
            <a href="/php-framework-trends/" class="col-3 col-sm-3 ">
                <em class="fas fa-chart-bar"></em>
                <br>
                Trends
            </a>
            <a href="/contact/" class="col-3 col-sm-3 ">
                <em class="fas fa-phone"></em>
                <br>
                Contact
            </a>
        </div>
    </nav>

    <div class="hidden-md-up text-center row" id="top-menu-search-mobile">
        <!-- inspired and taken from: https://github.com/yegor256/blog/blob/master/_layouts/default.html -->
        <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction" class="col-md-12">
            <meta itemprop="target" content="https://www.google.com/search?q={q}"/>
            <input name="sitesearch" value="tomasvotruba.cz" type="hidden"/>
            <input itemprop="query-input" type="text" id="search-query" class="form-control" required="required" name="q" placeholder="Search with Google..." autocomplete="off"/>
        </form>
    </div>
</div>

        <div class="mainContent">
            <div class="container-fluid" id="post">
                <h1>7 News and Changes in Symplify 6</h1>

                <ul class="list-inline post-metadata">
    <li class="list-inline-item mr-3">
        <em class="fas fa-clock fa-fw"></em>
        <strong>3 min</strong>
    </li>

    <li class="list-inline-item mr-3">
        <em class="fas fa-calendar fa-fw"></em>
        <time datetime="2019-06-Thu">
            
                            Thu, Jun 20
            
                    </time>
    </li>

    
            <li class="list-inline-item mr-3">
            <em class="fas fa-fw fa-comments"></em>
            <a href="https://www.tomasvotruba.cz/blog/2019/06/20/7-news-and-changes-in-symplify-6/#disqus_thread">X</a> comments
        </li>
    
    </ul>

                
                
                <div class="card card-bigger">
                    <div class="card-body">
                        Do you use Easy Coding Standard, Package Builder or Statie? Do you need to upgrade safely? <strong>Do you want to benefit from new features?</strong>
<br>
<br>
This post shows 7 news and changes, that might affect you (in a good way).
                    </div>
                </div>

                
                <p>What is <strong>new</strong>?</p>
<h2 id="easycodingstandard"><a href="#easycodingstandard" class="heading-anchor">EasyCodingStandard</a></h2>
<h3 id="1-run-checker-only-on-specific-path"><a href="#1-run-checker-only-on-specific-path" class="heading-anchor">1. Run Checker only on Specific Path</a></h3>
<p><a href="https://github.com/Symplify/Symplify/pull/1537" class="btn btn-dark btn-sm pull-right mt-2 mb-2">
<em class="fab fa-github fa-fw"></em>
&nbsp;
See PR #1357
</a></p>
<p><strong>I really love this feature, because it makes a lot of custom boiler code go away.</strong></p>
<p>In old <em>Symplify 5</em>, when you needed to run sniff only on <code>/tests</code>, you had to create own ruleset and run it separately:</p>
<pre><code class="language-yaml"># ecs.yaml
services:
    BasicSniff: ~</code></pre>
<pre><code class="language-yaml"># tests-only-ecs.yaml
services:
    AnotherSniff: ~</code></pre>
<pre><code class="language-bash">vendor/bin/ecs check src tests # --config ecs.yaml by default
vendor/bin/ecs check tests --config tests-only-ecs.yaml</code></pre>
<p>That was way too complicated, right?</p>
<p><br></p>
<p>In new <em>Symplify 6</em>, you can use just one config with <code>only</code> option instead:</p>
<pre><code class="language-yaml"># ecs.yaml
services:
    BasicSniff: ~
    AnotherSniff: ~

parameters:
    only:
        AnotherSniff:
            - '*/tests/*'</code></pre>
<pre><code class="language-yaml">vendor/bin/ecs check src tests</code></pre>
<p>It's basically an inversion of <code>skip</code> parameter.</p>
<p><br>
<br>
<br></p>
<p>What has <strong>changed</strong>?</p>
<h3 id="2-yml-yaml"><a href="#2-yml-yaml" class="heading-anchor">2. <code>*.yml</code> → <code>*.yaml</code></a></h3>
<p>As Symfony is <a href="https://github.com/symfony/demo/tree/master/config">moving to *.yaml</a> suffixes, Symplify does too.</p>
<h2 id="easycodingstandard"><a href="#easycodingstandard" class="heading-anchor">EasyCodingStandard</a></h2>
<h3 id="3-sets-are-now-in-set-directory"><a href="#3-sets-are-now-in-set-directory" class="heading-anchor">3. Sets are Now In <code>/set</code> Directory</a></h3>
<p>Why? The <code>/config</code> directory contains <code>services.yaml</code> in Symfony application. It got cluttered with all the prepared sets.</p>
<pre><code class="language-diff"> # ecs.yaml
 imports:
-    - { resource: 'vendor/symplify/easy-coding-standard/config/php71.yml' }
-    - { resource: 'vendor/symplify/easy-coding-standard/config/common.yml' }
-    - { resource: 'vendor/symplify/easy-coding-standard/config/clean-code.yml' }
+    - { resource: 'vendor/symplify/easy-coding-standard/config/set/php71.yaml' }
+    - { resource: 'vendor/symplify/easy-coding-standard/config/set/common.yaml' }
+    - { resource: 'vendor/symplify/easy-coding-standard/config/set/clean-code.yaml' }</code></pre>
<h3 id="4-exclude-checkers-skip"><a href="#4-exclude-checkers-skip" class="heading-anchor">4. <del>exclude_checkers</del> → <code>skip</code></a></h3>
<p>People confused this options and created <em>WTF</em> issues. That's why the <code>exclude_checkers</code> is now merged in <code>skip</code>, so you have less option names to remember:</p>
<pre><code class="language-diff"> parameters:
-    exclude_checkers:
-        - 'PhpCsFixer\Fixer\PhpTag\BlankLineAfterOpeningTagFixer'
+    skip:
+        PhpCsFixer\Fixer\PhpTag\BlankLineAfterOpeningTagFixer: ~</code></pre>
<h2 id="packagebuilder"><a href="#packagebuilder" class="heading-anchor">PackageBuilder</a></h2>
<h3 id="5-introducing-findersanitizer"><a href="#5-introducing-findersanitizer" class="heading-anchor">5. Introducing <code>FinderSanitizer</code></a></h3>
<p>Do you like <code>SplFileInfo</code> that is 100 % sure the file exists? In that case, you use <code>Symplify\PackageBuilder\FileSystem\SmartFileInfo</code> instead of <code>SplFileInfo</code>. The easiest way to use it is via <code>FinderSanitizer</code> that is now available via <code>symplify/package-builder</code> package:</p>
<pre><code class="language-diff"> services:
-    Symplify\EasyCodingStandard\Finder\FinderSanitizer: ~
+    Symplify\PackageBuilder\FileSystem\FinderSanitizer: ~</code></pre>
<h3 id="6-configurablecollectorcompilerpass-autowirearrayparametercompilerpass"><a href="#6-configurablecollectorcompilerpass-autowirearrayparametercompilerpass" class="heading-anchor">6. <del>ConfigurableCollectorCompilerPass</del> → <code>AutowireArrayParameterCompilerPass</code></a></h3>
<p>If you know <a href="/clusters/#collector-pattern-the-shortcut-hack-to-solid-code">collectors</a>, you're using <code>ConfigurableCollectorCompilerPass</code>. It saves you so much time with configuration. The problem with that compiler pass, you still had to go to config to set it up, for no real advantage. And extra work for <a href="/blog/2019/02/14/why-config-coding-sucks/">no benefit sucks</a>. Also, there is big change someone will <a href="/blog/2018/08/27/why-and-how-to-avoid-the-memory-lock/">forget it</a> and create a bug.</p>
<p>So instead, <em>Symplify 6</em> adds better system to pass collected services of certain type to single service - <strong><a href="/blog/2018/11/12/will-autowired-arrays-finally-deprecate-tags-in-symfony-and-nette/">autowired arrays</a></strong>:</p>
<pre><code class="language-diff">&lt;?php declare(strict_types=1);

 use Symfony\Component\DependencyInjection\ContainerInterface;
-use Symplify\PackageBuilder\DependencyInjection\CompilerPass\ConfigurableCollectorCompilerPass;
+use Symplify\PackageBuilder\DependencyInjection\CompilerPass\AutowireArrayParameterCompilerPass;

 final class AppKernel extends Kernel
 {
     protected function build(ContainerBuilder $containerBuilder): void
     {
-        $containerBuilder-&gt;addCompilerPass(new ConfigurableCollectorCompilerPass());
+        $containerBuilder-&gt;addCompilerPass(new AutowireArrayParameterCompilerPass());
    }
}</code></pre>
<p><a href="/blog/2018/11/12/will-autowired-arrays-finally-deprecate-tags-in-symfony-and-nette/">This post</a> explains how to use it without ever touching config again.</p>
<h2 id="codingstandard"><a href="#codingstandard" class="heading-anchor">CodingStandard</a></h2>
<h3 id="7-removeuselessdocblockfixer-nosuperfluousphpdoctagsfixer"><a href="#7-removeuselessdocblockfixer-nosuperfluousphpdoctagsfixer" class="heading-anchor">7. <del>RemoveUselessDocBlockFixer</del> → <code>NoSuperfluousPhpdocTagsFixer</code></a></h3>
<p><code>RemoveUselessDocBlockFixer</code> was removed, because PHP CS Fixer now provides <code>NoSuperfluousPhpdocTagsFixer</code> with similar features:</p>
<pre><code class="language-diff"> # ecs.yaml
 services:
-    Symplify\CodingStandard\Fixer\Commenting\RemoveUselessDocBlockFixer: ~
+    PhpCsFixer\Fixer\Phpdoc\NoSuperfluousPhpdocTagsFixer: ~</code></pre>
<p>That's all. It was easy, right?</p>
<p><br></p>
<p>Happy coding!</p>

                <br>

                
                <div class="row mb-3">
                    <div class="col-12 col-md-6">
                        <div class="card mb-4">
                            <div class="card-body text-center">
                                <em class="fab fa-fw fa-github"></em>
                                    Found a typo?
                                <a href="https://github.com/TomasVotruba/tomasvotruba.cz/edit/master/source/_posts/2019/2019-06-20-7-news-and-changes-in-symplify-6.md">Fix it</a> to <strong>join team of 64 people</strong> that improve content here
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6">
                                                                                                                                
                                                    <div class="card mb-4">
                                <div class="card-body bg-success text-white text-center">
                                    <strong>Next</strong>:
                                    <a href="/blog/2019/06/17/how-to-upgrade-meetup-com-api-to-oauth2-with-guzzle/">How to upgrade Meetup.com API to OAuth2 with Guzzle</a>
                                </div>
                            </div>
                                            </div>
                </div>

                <div class="card mb-5 border-0">
                    <div class="card-body text-center">
                        <p>
                                                            ❤️️ Do you <strong>like</strong> what I write about? Or do you <strong>hate it</strong> but enjoy discussion? 😠
                                <br>
                                You can support my writing by throwing a <a href="https://patreon.com/rectorphp">couple bucks at my Patreon</a>
                                                    </p>
                    </div>
                </div>

                <a name="comments"></a>

                <div id="disqus_thread"></div>

<script type="text/javascript">
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//' + 'itsworthsharing' + '.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
            </div>

            <script id="dsq-count-scr" src="https://itsworthsharing.disqus.com/count.js" async defer></script>
        </div>

        <script src="/assets/js/jquery-3.3.1.slim.min.js?=919851321"></script>
<script src="/assets/gifplayer/jquery.gifplayer.js?=1114735786"></script>
<script src="/assets/js/cluster-checklist.js?=1839259065"></script>
<script src="/assets/js/cluster-expanable.js?=1892863539"></script>

<script>
    ga=function(){ ga.q.push(arguments) };
    ga.q=[];
    ga.l=+new Date;
    ga('create', 'UA-46082345-1', 'auto');
    ga('send','pageview');
</script>
<script src="https://www.google-analytics.com/analytics.js" async defer></script>

<script src="/assets/prism/prism.js"></script>

<script>
    $('.gifplayer').gifplayer();
</script>

<div class="text-center mt-5" id="footer">
    <div class="row">
        <div class="col-12">
            Join 17 579 PHP developers every month: <a href="/rss.xml">RSS</a>&nbsp;or&nbsp;<a href="https://twitter.com/votrubaT">@votrubaT</a>
        </div>
    </div>

    <p>
        Build by <a href="/thank-you/">72 people</a>

        <span class="pl-2 pr-2">•</span>

        <a href="https://patreon.com/rectorphp">Support me</a>

        <span class="pl-2 pr-2">•</span>

        <a href="/now/">Now</a>

        <span class="hidden-sm-down">
            <span class="pl-2 pr-2">•</span>
            Hosted with <a href="https://www.statie.org/">Statie</a> on <a href="https://github.com/tomasvotruba/tomasvotruba.cz">GitHub</a>
        </span>
    </p>
</div>
    </body>
</html>

        <meta property="og:type" content="article" />
    <meta property="og:title" content="7 News and Changes in Symplify 6" />
    <meta property="og:description" content="Do you use Easy Coding Standard, Package Builder or Statie? Do you need to upgrade safely? Do you want to benefit from new features?


This post shows 7 news and changes, that might affect you (in a good way)." />
    <meta property="og:url" content="https://www.tomasvotruba.cz/blog/2019/06/20/7-news-and-changes-in-symplify-6" />

        <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@votrubaT">
    <meta name="twitter:title" content="7 News and Changes in Symplify 6" />
    <meta name="twitter:description" content="Do you use Easy Coding Standard, Package Builder or Statie? Do you need to upgrade safely? Do you want to benefit from new features?


This post shows 7 news and changes, that might affect you (in a good way)." />
